<!DOCTYPE html>
<html>
<head>
    <title>üéµ Heckx ‡πÄ‡∏û‡∏•‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; 
            min-height: 100vh;
            padding: 20px;
        }
        .container { 
            max-width: 1000px; 
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        h1 { 
            font-size: 2.5em; 
            margin-bottom: 15px; 
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .subtitle {
            text-align: center; 
            font-size: 1.1em; 
            margin-bottom: 25px;
            opacity: 0.9;
        }
        
        .controls { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 10px; 
            justify-content: center; 
            margin: 20px 0;
        }
        button { 
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white; 
            border: none; 
            padding: 12px 20px; 
            font-size: 1em; 
            border-radius: 25px; 
            cursor: pointer; 
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            min-width: 140px;
        }
        button:hover { 
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        select { 
            padding: 10px 15px; 
            border-radius: 10px; 
            border: none; 
            background: rgba(255,255,255,0.9);
            color: #333;
            font-size: 1em;
            min-width: 160px;
        }
        
        .tab-button {
            background: rgba(255,255,255,0.1);
            margin: 0 5px;
            min-width: 120px;
            border: 1px solid rgba(255,255,255,0.3);
        }
        .tab-button.active {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            transform: translateY(-2px);
        }
        .tab-content {
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        #result { 
            background: rgba(0,0,0,0.3); 
            padding: 20px; 
            border-radius: 15px; 
            margin-top: 20px; 
            min-height: 100px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .track-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #4CAF50;
        }
        
        @media (max-width: 768px) {
            .container { padding: 15px; }
            h1 { font-size: 2em; }
            .controls { flex-direction: column; align-items: center; }
            button { min-width: 200px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéµ Heckx ‡πÄ‡∏û‡∏•‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</h1>
        <p class="subtitle">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏•‡∏á Lo-fi, Jazz, Piano ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô</p>
        
        <!-- Navigation Tabs -->
        <div class="controls">
            <button class="tab-button active" onclick="showTab('music')">üéµ ‡πÄ‡∏û‡∏•‡∏á</button>
            <button class="tab-button" onclick="showTab('drive')">‚òÅÔ∏è ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button class="tab-button" onclick="showTab('quotes')">üí≠ ‡∏Ñ‡∏≥‡∏Ñ‡∏°</button>
        </div>
        
        <!-- Music Tab -->
        <div id="music-tab" class="tab-content">
            <div class="controls">
                <select id="music-genre">
                    <option value="">‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                    <option value="jazz">Jazz (‡πÅ‡∏à‡πä‡∏™)</option>
                    <option value="lofi">Lo-fi (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)</option>
                    <option value="piano">Piano (‡πÄ‡∏õ‡∏µ‡∏¢‡πÇ‡∏ô)</option>
                    <option value="blues">Blues (‡∏ö‡∏•‡∏π‡∏™‡πå)</option>
                    <option value="ambient">Ambient (‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢)</option>
                </select>
                <button onclick="discoverMusic()">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏•‡∏á</button>
                <button onclick="getMusicRecommendations()">üéØ ‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</button>
            </div>
        </div>
        
        <!-- Google Drive Tab -->
        <div id="drive-tab" class="tab-content" style="display: none;">
            <div class="controls">
                <button onclick="getDriveInfo()">üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</button>
                <button onclick="uploadSample()">üì§ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                <button onclick="syncToCloud()">‚òÅÔ∏è ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏•‡∏á</button>
            </div>
        </div>
        
        <!-- Quotes Tab -->
        <div id="quotes-tab" class="tab-content" style="display: none;">
            <div class="controls">
                <select id="quote-category">
                    <option value="random">‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏Ñ‡∏°</option>
                    <option value="wisdom">‡∏õ‡∏±‡∏ç‡∏ç‡∏≤</option>
                    <option value="resilience">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à</option>
                    <option value="mindfulness">‡∏™‡∏ï‡∏¥</option>
                    <option value="motivation">‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à</option>
                </select>
                <button onclick="getQuote()">üí≠ ‡∏î‡∏π‡∏Ñ‡∏≥‡∏Ñ‡∏°</button>
                <button onclick="getDailyQuote()">üìÖ ‡∏Ñ‡∏≥‡∏Ñ‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
            </div>
        </div>
        
        <div id="result">
            <div style="text-align: center; padding: 20px;">
                <h3>üéµ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà Heckx ‡πÄ‡∏û‡∏•‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</h3>
                <p style="margin-top: 10px;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ó‡πá‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
            </div>
        </div>
    </div>
    
    <script>
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.style.display = 'none');
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Clear result when switching tabs
            document.getElementById('result').innerHTML = '<div style="text-align: center; padding: 20px;"><p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p></div>';
        }
        
        function discoverMusic() {
            const genre = document.getElementById('music-genre').value;
            document.getElementById('result').innerHTML = 'üîç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏•‡∏á...';
            
            let url = '/api/music/discover?min_downloads=2000';
            if (genre) {
                url += `&query=${genre}`;
            }
            
            fetch(url)
            .then(r => r.json())
            .then(data => {
                if (data.success && data.tracks.length > 0) {
                    let html = '';
                    data.tracks.forEach(track => {
                        html += `
                            <div class="track-item">
                                <h4>üéµ ${track.title}</h4>
                                <p><strong>‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô:</strong> ${track.artist}</p>
                                <p><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:</strong> ${track.genre} | <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß:</strong> ${Math.floor(track.duration/60)}:${(track.duration%60).toString().padStart(2,'0')} ‡∏ô‡∏≤‡∏ó‡∏µ</p>
                                <div style="margin-top: 10px;">
                                    <button onclick="downloadMusic(${track.id})" style="background: linear-gradient(45deg, #4CAF50, #45a049); margin-right: 10px;">‚¨áÔ∏è ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</button>
                                    <button onclick="playMusic(${track.id})" style="background: linear-gradient(45deg, #2196F3, #1976D2);">‚ñ∂Ô∏è ‡πÄ‡∏•‡πà‡∏ô</button>
                                </div>
                            </div>
                        `;
                    });
                    document.getElementById('result').innerHTML = html;
                } else {
                    document.getElementById('result').innerHTML = '<div style="text-align: center; padding: 20px;">‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏û‡∏•‡∏á ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏û‡∏•‡∏á</div>';
                }
            })
            .catch(e => {
                document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ${e.message}</div>`;
            });
        }
        
        function downloadMusic(trackId) {
            document.getElementById('result').innerHTML = '‚¨áÔ∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î...';
            
            fetch('/api/music/download', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({track_id: trackId})
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    let html = `<div style="border-left: 4px solid #4CAF50; padding-left: 20px;">`;
                    html += `<h3>‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</h3>`;
                    html += `<p><strong>‡πÄ‡∏û‡∏•‡∏á:</strong> ${data.title}</p>`;
                    html += `<p><a href="${data.download_url}" target="_blank" style="color: #4CAF50;">üîó ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏•‡∏á</a></p>`;
                    html += `</div>`;
                    document.getElementById('result').innerHTML = html;
                } else {
                    document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ${data.message}</div>`;
                }
            })
            .catch(e => {
                document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${e.message}</div>`;
            });
        }
        
        function playMusic(trackId) {
            fetch(`/api/music/play/${trackId}`)
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('result').innerHTML = `
                        <div style="text-align: center; padding: 20px;">
                            <h3>üéµ ${data.title}</h3>
                            <audio controls autoplay style="width: 100%; max-width: 400px; margin-top: 15px;">
                                <source src="${data.audio_url}" type="audio/mpeg">
                            </audio>
                        </div>
                    `;
                }
            });
        }
        
        function getMusicRecommendations() {
            document.getElementById('result').innerHTML = 'üéØ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏≤‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥...';
            
            fetch('/api/music/recommendations')
            .then(r => r.json())
            .then(data => {
                if (data.success && data.tracks.length > 0) {
                    let html = '<h3 style="margin-bottom: 15px;">üéØ ‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h3>';
                    data.tracks.forEach(track => {
                        html += `
                            <div class="track-item">
                                <h4>üéµ ${track.title}</h4>
                                <p><strong>‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô:</strong> ${track.artist}</p>
                                <p><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:</strong> ${track.genre}</p>
                                <div style="margin-top: 10px;">
                                    <button onclick="downloadMusic(${track.id})" style="background: linear-gradient(45deg, #4CAF50, #45a049); margin-right: 10px;">‚¨áÔ∏è ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</button>
                                    <button onclick="playMusic(${track.id})" style="background: linear-gradient(45deg, #2196F3, #1976D2);">‚ñ∂Ô∏è ‡πÄ‡∏•‡πà‡∏ô</button>
                                </div>
                            </div>
                        `;
                    });
                    document.getElementById('result').innerHTML = html;
                }
            });
        }
        
        function syncToCloud() {
            document.getElementById('result').innerHTML = '‚òÅÔ∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏õ‡∏¢‡∏±‡∏á Google Drive...';
            
            fetch('/api/music/drive/sync', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({})
            })
            .then(r => r.json())
            .then(data => {
                let html = `<div style="border-left: 4px solid ${data.success ? '#4CAF50' : '#F44336'}; padding-left: 20px;">`;
                html += `<h3>${data.success ? '‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à' : '‚ùå ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'}</h3>`;
                html += `<p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> ${data.message}</p>`;
                
                if (data.file_size_mb) {
                    html += `<p><strong>‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå:</strong> ${data.file_size_mb} MB</p>`;
                }
                
                if (data.upload_status) {
                    html += `<p><strong>‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:</strong> ${data.upload_status}</p>`;
                }
                
                if (data.folder_url) {
                    html += `<p><a href="${data.folder_url}" target="_blank" style="color: #4CAF50;">üìÅ ‡∏î‡∏π‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Google Drive</a></p>`;
                }
                
                html += `</div>`;
                document.getElementById('result').innerHTML = html;
            })
            .catch(e => {
                document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ${e.message}</div>`;
            });
        }
        
        function uploadSample() {
            document.getElementById('result').innerHTML = 'üì§ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå...';
            
            fetch('/api/music/drive/sync', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    file_url: 'https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=modern-chillout-12099.mp3',
                    filename: 'Heckx_Sample_Track.mp3'
                })
            })
            .then(r => r.json())
            .then(data => {
                let html = `<div style="border-left: 4px solid ${data.success ? '#4CAF50' : '#F44336'}; padding-left: 20px;">`;
                html += `<h3>${data.success ? '‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à' : '‚ùå ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'}</h3>`;
                html += `<p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> ${data.message}</p>`;
                
                if (data.file_size_mb) {
                    html += `<p><strong>‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå:</strong> ${data.file_size_mb} MB</p>`;
                }
                
                if (data.upload_status) {
                    html += `<p><strong>‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:</strong> ${data.upload_status}</p>`;
                }
                
                if (data.folder_url) {
                    html += `<p><a href="${data.folder_url}" target="_blank" style="color: #4CAF50;">üìÅ ‡∏î‡∏π‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Google Drive</a></p>`;
                }
                
                html += `</div>`;
                document.getElementById('result').innerHTML = html;
            })
            .catch(e => {
                document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${e.message}</div>`;
            });
        }
        
        function getDriveInfo() {
            document.getElementById('result').innerHTML = 'üìä ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞...';
            
            fetch('/api/music/drive/info')
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    const info = data.drive_info;
                    let html = `<div style="border-left: 4px solid #2196F3; padding-left: 20px;">`;
                    html += `<h3>‚òÅÔ∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Google Drive</h3>`;
                    html += `<p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> ${info.enabled ? '‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß' : '‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠'}</p>`;
                    html += `<p><strong>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°:</strong> ${info.message}</p>`;
                    
                    if (info.enabled) {
                        html += `<p><strong>‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå:</strong> ${info.folder_name}</p>`;
                        html += `<p><strong>‡∏£‡∏´‡∏±‡∏™‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå:</strong> ${info.folder_id}</p>`;
                        html += `<p><a href="${info.folder_url}" target="_blank" style="color: #4CAF50;">üìÅ ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Google Drive</a></p>`;
                        html += `<p><strong>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:</strong> ${info.upload_ready ? '‡πÉ‡∏ä‡πà' : '‡πÑ‡∏°‡πà'}</p>`;
                    }
                    
                    html += `</div>`;
                    document.getElementById('result').innerHTML = html;
                } else {
                    document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${data.error}</div>`;
                }
            })
            .catch(e => {
                document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ${e.message}</div>`;
            });
        }
        
        function getQuote() {
            const category = document.getElementById('quote-category').value;
            document.getElementById('result').innerHTML = 'üí≠ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≥‡∏Ñ‡∏°...';
            
            fetch('/api/quote', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    category: category,
                    user_id: 'user_demo'
                })
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    let html = `<div style="border-left: 4px solid #FF9800; padding-left: 20px;">`;
                    html += `<h3>üí≠ ${data.text}</h3>`;
                    html += `<p style="margin-top: 10px;"><strong>‡πÇ‡∏î‡∏¢:</strong> ${data.author}</p>`;
                    html += `<p><strong>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà:</strong> ${data.category}</p>`;
                    html += `</div>`;
                    document.getElementById('result').innerHTML = html;
                }
            })
            .catch(e => {
                document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ñ‡∏≥‡∏Ñ‡∏°‡πÑ‡∏î‡πâ: ${e.message}</div>`;
            });
        }
        
        function getDailyQuote() {
            document.getElementById('result').innerHTML = 'üìÖ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ñ‡∏≥‡∏Ñ‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ...';
            
            fetch('/api/quote/daily')
            .then(r => r.json())
            .then(data => {
                let html = `<div style="border-left: 4px solid #FF9800; padding-left: 20px;">`;
                html += `<h3>üìÖ ‡∏Ñ‡∏≥‡∏Ñ‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h3>`;
                html += `<p style="font-size: 1.2em; margin: 15px 0;">"${data.text}"</p>`;
                html += `<p><strong>‡πÇ‡∏î‡∏¢:</strong> ${data.author}</p>`;
                html += `</div>`;
                document.getElementById('result').innerHTML = html;
            })
            .catch(e => {
                document.getElementById('result').innerHTML = `<div style="text-align: center; padding: 20px;">‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ñ‡∏≥‡∏Ñ‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ: ${e.message}</div>`;
            });
        }
    </script>
</body>
</html>